---
interface Props {
	title: string
	company: string
	description: string
	link?: string
	date: string
	skills?: any[]
}

const { title, company, description, date, skills } = Astro.props
---

<div
	class="relative mx-12 pb-12 grid before:absolute before:left-[-35px] before:block before:h-full before:border-l-2 before:border-black/20 dark:before:border-white/15 before:content-[''] md:grid-cols-5 md:gap-10 md:space-x-4"
>
	<div class="relative pb-12 md:col-span-2">
		<div class="sticky top-0">
			<span class="text-yellow-400 -left-[42px] absolute rounded-full text-5xl"
				>&bull;</span
			>

			<h3 class="text-xl font-bold text-yellow-400">{title}</h3>
			<h4 class="font-semibold text-xl text-gray-600 dark:text-white">
				{company}
			</h4>
			<time class="p-0 m-0 text-sm text-gray-600/80 dark:text-white/80"
				>{date}</time
			>
		</div>
	</div>

	<div
		class="relative flex flex-col gap-2 pb-4 text-gray-600 dark:text-gray-300 md:col-span-3"
	>
		{
			/* Usamos set:html aquí para permitir las negritas (<strong>) en la descripción.
       text-pretty ayuda a que los párrafos se balanceen mejor visualmente.
    */
		}
		<p class="mb-4 text-base font-normal text-pretty" set:html={description} />

		{
			skills && (
				<ul class="flex flex-row flex-wrap gap-2">
					{skills.map((skill) => (
						<li class="flex items-center content-center gap-x-2 rounded-full dark:bg-gray-800 bg-zinc-200 dark:text-white text-black px-3 py-1 text-xs font-medium transition-transform hover:scale-105">
							<skill.icon
								class="size-3"
								color={skill.color || "currentColor"}
							/>
							<span>{skill.label || skill.name}</span>
						</li>
					))}
				</ul>
			)
		}
	</div>
</div>
